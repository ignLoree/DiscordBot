const catalog = require('./idsCatalog');

const maps = catalog.maps || {};
const multi = catalog.multi || {};
const meta = catalog.meta || {};

function toNameIdLines(entries) {
  return (Array.isArray(entries) ? entries : [])
    .map((entry) => `${String(entry?.name || '').trim()} -> ${String(entry?.id || '').trim()}`)
    .filter((line) => !line.startsWith(' -> '));
}

const catalogList = {
  categories: toNameIdLines(catalog?.entries?.categories),
  channels: toNameIdLines(catalog?.entries?.channels),
  roles: toNameIdLines(catalog?.entries?.roles),
  bots: toNameIdLines(catalog?.entries?.bots)
};

const fullCatalog = {
  categories: Array.isArray(catalog?.entries?.categories) ? catalog.entries.categories.map((x) => ({ name: String(x?.name || ''), id: String(x?.id || '') })) : [],
  channels: Array.isArray(catalog?.entries?.channels) ? catalog.entries.channels.map((x) => ({ name: String(x?.name || ''), id: String(x?.id || '') })) : [],
  roles: Array.isArray(catalog?.entries?.roles) ? catalog.entries.roles.map((x) => ({ name: String(x?.name || ''), id: String(x?.id || '') })) : [],
  bots: Array.isArray(catalog?.entries?.bots) ? catalog.entries.bots.map((x) => ({ name: String(x?.name || ''), id: String(x?.id || '') })) : []
};

const ids = {
  guilds: {
    main: meta.guildMain || null,
    test: '1462458562507964584',
    luna: '1471511676019933354',
    cash: '1471511928739201047',
    porn: '1471512183547498579',
    69: '1471512555762483330',
    weed: '1471512797140484230',
    figa: '1471512808448458958'
  },

  categories: {
    categoryStart: "1442847153474109500",
    categoryInfo: "1442569064793903356",
    categoryCommunity: "1442569067473928243",
    categoryPerks: "1442569069613289595",
    categoryGames: "1442569074310643845",
    categoryPublics: "1442569076902989844",
    categoryPrivate: "1442569078379118755",
    categorySponsor: "1442569081214599223",
    categoryPartner: "1442569079931146240",
    categoryStaff: "1442569084414853232",
    categoryBench: "1442569086717530142",
    categoryReport: "1443250372482306150",
    categorChat: "1442569090219773993",
    categorySystem: "1442569088705630410",
    categoryMidHigh: "1442569091301773312",
    categoryLogs: "1442569092761391178"
  },

  channels: {
    separator1: "1442569132406083748",
    separator2: "1442569197019463780",
    separator3: "1442569107923795998",
    separator4: "1442569098121711818",
    separator5: "1446492233002909848",
    separator6: "1442569280326602964",
    separator7: "1470775925426618468",
    separator8: "1442569143948804198",
    separator9: "1442569117717626930",
    separator10: "1442938093165613118",
    pause: "1442569255315832945",
    countUtenti: "1442569096700104754",
    sponsor1: "1461432266457878548",
    sanzioniUtenti: "1442569245878648924",
    poketwo: "1442569184281362552",
    vocaleTrio3: "1470170531830693989",
    staffChat: "1442569260059725844",
    chat: "1442569130573303898",
    logCanaliRuoli: "1442569302422192209",
    vocprivata1: "1442569150575935781",
    vocaleLounge2: "1442569106514645042",
    partnersChat: "1442569209849843823",
    vocaleSquad3: "1470170601154150686",
    birthday: "1468233267458084884",
    mudae: "1442569182825681077",
    vocaleDuo1: "1442569113108218058",
    vocaleSquad1: "1442569134532726855",
    ruoliColori: "1469429150669602961",
    vocPrivata2: "1442569156695294078",
    ticket: "1442569095068254219",
    ticketLogs: "1442569290682208296",
    vocaleDuo2: "1442569114785943713",
    vocaleSquad2: "1442569140077461613",
    gradiMid: "1460407013925327033",
    musicCommands: "1442569189486497905",
    pollBestStaff: "1446104429181927434",
    bestStaff: "1442569253281730653",
    topWeeklyUser: "1470183921236049940",
    info: "1442569111119990887",
    sponsor2: "1448693699432153218",
    highChat: "1442569285909217301",
    vocaleduo3: "1470170379078078656",
    warnStaff: "1443250635108646943",
    sponsor3: "1461387182840479927",
    ship: "1469685688814407726",
    suggestions: "1442569147559973094",
    vocaleAFK: "1442569145995759756",
    quotes: "1468540884537573479",
    vocaleLounge3: "1470168983507435631",
    staffPagato: "1442579412280410194",
    clickMe: "1442569058406109216",
    staffList: "1442569235426705653",
    valutazioniStaff: "1442569249649459340",
    puntiTolti: "1442569257375367320",
    polls: "1442569128706838528",
    resocontiStaff: "1442569270784692306",
    guidaMid: "1442569266066096309",
    regolamentoPartner: "1442569199229730836",
    guidaStaff: "1442569237142044773",
    descriptionPartner: "1442569194905534494",
    candidatureStaff: "1442569232507473951",
    visioneModuli: "1442569278049095913",
    news: "1442569115972669541",
    staffNews: "1442569239063167139",
    media: "1442569136067575809",
    selfieVerificati: "1470029899740873029",
    forum: "1442569141717438495",
    noMic: "1442569187376763010",
    verify: "1442569059983163403",
    counting: "1442569179743125554",
    riunioneStaff: "1443958044802420798",
    commands: "1442569138114662490",
    highCmds: "1442569288161558528",
    staffCmds: "1442569262689554444",
    partnerships: "1442569193470824448",
    partnerLogs: "1467533670129729680",
    trio2: "1442569125753913498",
    vocPrivata3: "1442569152614367262",
    infoSponsor: "1442569211611185323",
    vocaleLounge1: "1442569101225496819",
    sponsor4: "1461369145860816947",
    midChat: "1442569268666568897",
    vocaleTrio1: "1442569121350025306",
    supporters: "1442569123426074736",
    moderazioneStaff: "1442569243626307634",
    modLogs: "1442569294796820541",
    activityLogs: "1442569299725385851",
    joinLeaveLogs: "1442569306608111776",
    pexDepex: "1442569234004709391",
    animaliForum: "1461423795246989478",
    propositiForum: "1456349072473587936",
    wrapForum: "1445792081271587000",

    commandLogChannel: "1472733599496409292", // Canale per i log dei comandi
    errorLogChannel: "1472733599496409292", // Canale per i log degli errori
  },

  roles: {
    Wick: "1443565454260965471",
    Dyno: "1329483828326174723",
    Xenon: "1329507234002108500",
    Statbot: "1442946432238882961",
    ActivityRank: "1458422199957586065",
    Mudae: "1442929251103014923",
    VoteManager: "1468279483038437521",
    DISBOARD: "1442940553087025244",
    Poketwo: "1442929519705980998",
    JockieMusic: "1442946823340691552",
    fmbot: "1468978359605395691",
    Discadia: "1468236145753067739",
    PokeName: "1468978249152594135",
    separatore1: "1442568885869215975",
    Perms1: "1442568888096391260",
    Founder: "1442568886988963923",
    BotUfficiale: "1329119091348213854",
    Perms2: "1442568890075971724",
    StafferDelMese: "1442568895251611924",
    CoFounder: "1442568889052430609",
    Manager: "1442568891875201066",
    Admin: "1442568893435478097",
    HighStaff: "1442568894349840435",
    Supervisor: "1442568896237277295",
    Coordinator: "1442568897902678038",
    Mod: "1442568901887000618",
    Helper: "1442568904311570555",
    PartnerManager: "1442568905582317740",
    Staff: "1442568910070349985",
    separatore2: "1469759519159615620",
    redPlus: "1469759694930182284",
    orangePlus: "1469759700944814231",
    yellowPlus: "1469759704380084384",
    greenPlus: "1469759708742160537",
    bluePlus: "1469759714094088327",
    purplePlus: "1469759719194230906",
    pinkPlus: "1469759723418026233",
    blackPlus: "1469759731945177182",
    grayPlus: "1469760931113336864",
    whitePlus: "1469761030417809675",
    YinYangPlus: "1469761114140315831",
    separatore3: "1469452818351001772",
    Cherry: "1442568958656905318",
    Blood: "1442568956832645212",
    Scarlet: "1442568961077153994",
    Coral: "1442568960016121998",
    Carrot: "1442568963836874886",
    Pumpkin: "1442568965040636019",
    Orange: "1442568967045648412",
    Peach: "1442568962167541760",
    Mais: "1442568968371048449",
    Gold: "1442568969528541225",
    Amber: "1442568970497687717",
    Lime: "1442568971357388912",
    Pear: "1442568972745838667",
    Moss: "1442568975966797926",
    Green: "1442568976944201828",
    Olive: "1442568974486208634",
    Aqua: "1442568977896439960",
    Blue: "1442568979473371258",
    ElectricBlue: "1442568980626673685",
    MidnightBlue: "1442568981792948304",
    Eggplant: "1442568982769959002",
    Purple: "1442568983898357954",
    Lilac: "1442568985278156971",
    Sangria: "1442568986720993350",
    BlackCat: "1442568987887276133",
    GreySmoke: "1442568988961013821",
    Grey: "1442568989866725468",
    White: "1442568991150309578",
    separatore4: "1469452890761596981",
    customrole1: "1442568940579459102",
    customrole2: "1442568942194393211",
    customrole3: "1442568943834234890",
    Muted: "1442568884833095832",
    blackilistPartner: "1443252279477272647",
    blacklistTicket: "1463248847768785038",
    blacklistModuli: "1463248874725576879",
    Incense: "1442568951912726628",
    separatore5: "1468674171213971568",
    VIP: "1442568950805430312",
    Donator: "1442568916114346096",
    ServerBooster: "1329497467481493607",
    Promoter: "1469758545263198442",
    Voter: "1468266342682722679",
    Supporter: "1442568948271943721",
    TopWeeklyVoc: "1468674787399172208",
    TopWeeklyText: "1468674837957574757",
    Verificato: "1469040179799920801",
    Verificata: "1469040190730408018",
    OG: "1469041493401534644",
    Veterano: "1469073503025103113",
    NuovoUtente: "1469041461294268489",
    Member: "1442568949605597264",
    Bots: "1442568954181713982",
    separatore6: "1442568938457399299",
    PicPerms: "1468938195348754515",
    Strategist: "1468675595058811075",
    Mentor: "1468675590747062355",
    Vanguard: "1468675587747877028",
    Achiever: "1468675584094769427",
    Tracker: "1468675580609429536",
    Explorer: "1468675576326918302",
    Scout: "1468675570865803407",
    Rookie: "1468675567015428239",
    Initiate: "1468675561948971058",
    separatore7: "1442568928667631738",
    Level100: "1442568929930379285",
    Level70: "1442568931326824488",
    Level50: "1442568932136587297",
    Level30: "1442568933591748688",
    Level20: "1442568934510297226",
    Level10: "1442568936423034940",
    separatore8: "1442568992459067423",
    1314: "1442568993197265021",
    1516: "1442568994581381170",
    1718: "1442568995348807691",
    19: "1442568996774871194",
    heHim: "1442568997848743997",
    sheHer: "1442568999043989565",
    theyThem: "1442569000063074498",
    askMe: "1442569001367769210",
    DMsOpened: "1442569004215697438",
    DMsClosed: "1442569005071077417",
    AsktoDM: "1442569006543274126",
    ReviveChat: "1442569009567629375",
    Events: "1442569012063109151",
    News: "1442569010943365342",
    Polls: "1442569014474965033",
    Bump: "1442569013074071644",
    Minigames: "1443955529352478830",
    Forum: "1447597930944008376",
    Nord: "1442569021861007443",
    Centro: "1442569023303974922",
    Sud: "1442569024486506498",
    Estero: "1442569025790939167",
    Fidanzato: "1442569028173299732",
    Single: "1442569029263818906"
  },

  bots: {
    Xenon: "416358583220043796",
    fmbot: "356268235697553409",
    Statbot: "491769129318088714",
    Poketwo: "716390085896962058",
    ViniliCaffeBot: "1329118940110127204",
    Discadia: "1222548162741538938",
    Mudae: "432610292342587392",
    Dyno: "155149108183695360",
    VoteManager: "959699003010871307",
    PokeName: "874910942490677270",
    JockieMusic: "411916947773587456",
    Wick: "548410451818708993",
    DISBOARD: "302050872383242240",
    ActivityRank: "534589798267224065"
  },

  emojis: {
    loadingAnimatedId: meta?.emojis?.loadingAnimatedId || null,
    loadingFallbackId: meta?.emojis?.loadingFallbackId || null
  },

  links: {
    vote: meta?.links?.vote || null,
    invite: meta?.links?.invite || null
  },

  named: maps,
  namedEntries: catalog.entries,
  namedMulti: multi,
  namedRaw: catalog.raw,
  full: fullCatalog,
  catalogList,

  raw: {
    guilds: { main: meta.guildMain || null },
    categories: { ...(maps?.categories || {}) },
    channels: { ...(maps?.channels || {}) },
    roles: { ...(maps?.roles || {}) },
    bots: { ...(maps?.bots || {}) },
    emojis: { ...(meta?.emojis || {}) },
    links: { ...(meta?.links || {}) }
  }
};

ids.aliases = {
  categories: { ...ids.categories },
  channels: { ...ids.channels },
  roles: { ...ids.roles },
  bots: { ...ids.bots }
};

ids.aliasEntries = {
  categories: Object.fromEntries(Object.entries(ids.categories).map(([k, id]) => [k, { name: "", id }])),
  channels: Object.fromEntries(Object.entries(ids.channels).map(([k, id]) => [k, { name: "", id }])),
  roles: Object.fromEntries(Object.entries(ids.roles).map(([k, id]) => [k, { name: "", id }])),
  bots: Object.fromEntries(Object.entries(ids.bots).map(([k, id]) => [k, { name: "", id }]))
};

module.exports = ids;